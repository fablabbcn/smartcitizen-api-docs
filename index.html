<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>SmartCitizen API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="summary">Summary</h1>

<blockquote>
<h3 id="definition">Definition</h3>

<p>https://new-api.smartcitizen.me</p>

<h3 id="summary-of-resources">Summary of Resources</h3>
</blockquote>
<pre><code class="highlight plaintext">/v0/oauth
/v0/me
/v0/users/:id
/v0/devices/:id
/v0/kits/:id
/v0/sensors/:id
</code></pre>

<p>The Smartcitizen V0 API is a publicly available interface allowing developers access to the smartcitizen dataset. The interface is stable and currently used by the Strava mobile applications. However, changes are occasionally made to improve performance and enhance features. See the changelog for more details.</p>

<h1 id="authentication">Authentication</h1>

<p>There are 3 ways you can access the API. OAuth 2.0 is the recommended method.</p>

<h2 id="oauth-2.0---recommended-method">OAuth 2.0 - Recommended Method</h2>
<pre><code class="highlight shell"><span class="c"># Use access_token in the url</span>
<span class="gp">$ </span>curl -G https://new-api.smartcitizen.me/v0/me?access_token<span class="o">=</span>94abeabdec09f6670863766f792ead24d61fe3f9

<span class="c"># Use Bearer in the header</span>
<span class="gp">$ </span>curl -G https://new-api.smartcitizen.me/v0/me <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer 94abeabdec09f6670863766f792ead24d61fe3f9"</span>
</code></pre>

<p>The recommended way to access the API. A basic example resides here <a href="https://example.smartcitizen.me">https://example.smartcitizen.me</a> and its source code is here <a href="https://github.com/johnrees/smartcitizen-oauth-example">https://github.com/johnrees/smartcitizen-oauth-example</a>.</p>

<p><a href="https://id.smartcitizen.me">https://id.smartcitizen.me</a> currently uses <a href="https://github.com/doorkeeper-gem/doorkeeper">Doorkeeper gem</a> for managing the OAuth component but that is subject to change.</p>

<p>Applications can be added here <a href="https://id.smartcitizen.me/oauth/applications">https://id.smartcitizen.me/oauth/applications</a>. Whilst in development this is completely open for public access but this will change.</p>

<p>POSTman settings are as follows -</p>

<p><img alt="Postman settings" src="https://i.imgur.com/TzIkLSQ.png" /></p>

<p>The correct <code class="prettyprint">Client ID</code> and <code class="prettyprint">Client Secret</code> can be found at <a href="https://id.smartcitizen.me/oauth/applications">https://id.smartcitizen.me/oauth/applications</a>.</p>

<h2 id="basic-auth-(username/password)">Basic Auth (Username/Password)</h2>
<pre><code class="highlight shell"><span class="c"># Add a base64 encoded hash of 'username:password' in the header</span>
curl <span class="s1">'https://new-api.smartcitizen.me/v0/me'</span> -H <span class="s1">'Authorization: Basic am9objpzbWFydHBhc3M='</span>

<span class="c"># NOT RECOMMENDED - add username and password in the header</span>
curl <span class="s1">'https://new-api.smartcitizen.me/v0/me'</span> --user username:password
</code></pre>

<h2 id="http-token-authentication">HTTP Token Authentication</h2>
<pre><code class="highlight shell"><span class="gp">$ </span>curl <span class="s1">'https://new-api.smartcitizen.me/v0/me'</span> -IH <span class="s2">"Authorization: Token token=b32a8e54b11c4de5a4a351734c80a14a"</span>
</code></pre>

<p>Use your API token</p>

<h1 id="filtering">Filtering</h1>

<h2 id="pagination">Pagination</h2>
<pre><code class="highlight shell"><span class="gp">$ </span>curl --include <span class="s1">'https://new-api.smartcitizen.me/v0/users?page=5'</span>
HTTP/1.1 200 OK
Link: &lt;https://new-api.smartcitizen.me/v0/users?page<span class="o">=</span>1&gt;; <span class="nv">rel</span><span class="o">=</span><span class="s2">"first"</span>,
  &lt;https://new-api.smartcitizen.me/v0/users?page<span class="o">=</span>173&gt;; <span class="nv">rel</span><span class="o">=</span><span class="s2">"last"</span>,
  &lt;https://new-api.smartcitizen.me/v0/users?page<span class="o">=</span>6&gt;; <span class="nv">rel</span><span class="o">=</span><span class="s2">"next"</span>,
  &lt;https://new-api.smartcitizen.me/v0/users?page<span class="o">=</span>4&gt;; <span class="nv">rel</span><span class="o">=</span><span class="s2">"prev"</span>
Total: 4321
Per-Page: 25
</code></pre>

<p>Most endpoints that return more than result e.g. <code class="prettyprint">/v0/users</code>, <code class="prettyprint">v0/devices</code> can be paginated with the the following parameters.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>integer</td>
<td>1</td>
<td>page</td>
</tr>
<tr>
<td>per_page</td>
<td>integer</td>
<td>25</td>
<td>page</td>
</tr>
</tbody></table>

<p>The headers will include links to the <code class="prettyprint">Total</code> results count, number of results shown <code class="prettyprint">Per-Page</code> and <code class="prettyprint">first</code>, <code class="prettyprint">last</code>, <code class="prettyprint">next</code> and <code class="prettyprint">previous</code> results.</p>

<h2 id="global-search">Global Search</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p>GET https://new-api.smartcitizen.me/v0/search</p>
</blockquote>

<aside class='warning'>THE RESPONSE FOR THIS ENDPOINT WILL CHANGE</aside>

<p>To search both Users and Devices at the same time you can use the global search endpoint.</p>

<h3 id="required-parameters">Required Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>q</td>
<td>string</td>
<td>Query string</td>
</tr>
</tbody></table>

<h2 id="basic-searching">Basic Searching</h2>

<p>Similar to the <a href="#pagination">pagination</a>, you can filter and sort most responses with more than one result. This is done with the <a href="https://github.com/activerecord-hackery/ransack">ransack</a> library.</p>

<p><a href="https://github.com/activerecord-hackery/ransack/wiki/Basic-Searching">https://github.com/activerecord-hackery/ransack/wiki/Basic-Searching</a></p>

<table><thead>
<tr>
<th>Query</th>
<th>Type</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>/users?q[<strong>first_name_eq</strong>]=adam</td>
<td>string</td>
<td>adam</td>
<td>Users where first name equals &lsquo;Adam&rsquo;</td>
</tr>
<tr>
<td>/devices?q[<strong>owner_id</strong>]=1</td>
<td>integer</td>
<td>1</td>
<td>Devices where owner ID equals 1</td>
</tr>
<tr>
<td>/sensors?q[<strong>id_lt</strong>]=100</td>
<td>integer</td>
<td>100</td>
<td>Sensors where ID less than 100</td>
</tr>
<tr>
<td>/users?q[<strong>username_cont</strong>]=sck</td>
<td>string</td>
<td>sck</td>
<td>Users where username contains &#39;sck&rsquo;</td>
</tr>
</tbody></table>

<h2 id="sorting-results">Sorting Results</h2>

<p>You can order results with the <code class="prettyprint">q[sort]</code> parameter</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>/users?q[sort]=username%20asc</strong><br/><em>string</em></td>
<td>username asc</td>
<td>Users ordered by username in ASCENDING order</td>
</tr>
<tr>
<td><strong>/devices?q[sort]=id%20desc</strong><br/><em>integer</em></td>
<td>id desc</td>
<td>Devices ordered by id in DESCENDING order</td>
</tr>
</tbody></table>

<h2 id="pretty-printing">Pretty Printing</h2>

<p>You can prettyprint responses by adding <code class="prettyprint">pretty=true</code> to a request.</p>

<h1 id="devices">Devices</h1>

<h2 id="world-map-of-devices">World Map of Devices</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p>GET https://new-api.smartcitizen.me/v0/devices/world_map</p>
</blockquote>

<p>Returns a short summary of all devices for the world map.</p>

<aside class='notice'>This endpoint will be cached, therefore you will not be able to use parameters to paginate, search or sort the results. We recommend that you filter the json on the client-side.</aside>

<h2 id="add-a-device">Add a Device</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p>POST https://new-api.smartcitizen.me/v0/devices</p>
</blockquote>

<p>You must be authenticated to add a device. The <code class="prettyprint">current_user</code> will become the <code class="prettyprint">owner</code> of the new device.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong><br/><em>string</em></td>
<td>Beach SCK</td>
<td>Name of the device</td>
</tr>
<tr>
<td><strong>description</strong><br/><em>string</em></td>
<td>A Smart Citizen on the Beach</td>
<td>Description of the device</td>
</tr>
<tr>
<td><strong>mac_address</strong><br/><em>string</em></td>
<td>00:1C:B3:09:85:15</td>
<td>MAC Address of the device</td>
</tr>
<tr>
<td><strong>latitude</strong><br/><em>decimal</em></td>
<td>41.401108</td>
<td>Latitude of the device</td>
</tr>
<tr>
<td><strong>longitude</strong><br/><em>decimal</em></td>
<td>2.215319</td>
<td>Longitude of the device</td>
</tr>
</tbody></table>

<h2 id="update-a-device">Update a Device</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p>PATCH https://new-api.smartcitizen.me/v0/devices/:id</p>
</blockquote>

<p>You must be authenticated and registered as the device&rsquo;s <code class="prettyprint">owner</code> if you wish to update a device.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong><br/><em>string</em></td>
<td>Beach SCK</td>
<td>Name of the device</td>
</tr>
<tr>
<td><strong>description</strong><br/><em>string</em></td>
<td>A Smart Citizen on the Beach</td>
<td>Description of the device</td>
</tr>
<tr>
<td><strong>mac_address</strong><br/><em>string</em></td>
<td>00:1C:B3:09:85:15</td>
<td>MAC Address of the device</td>
</tr>
<tr>
<td><strong>latitude</strong><br/><em>decimal</em></td>
<td>41.401108</td>
<td>Latitude of the device</td>
</tr>
<tr>
<td><strong>longitude</strong><br/><em>decimal</em></td>
<td>2.215319</td>
<td>Longitude of the device</td>
</tr>
</tbody></table>

<h2 id="get-a-device">Get a Device</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p>GET https://new-api.smartcitizen.me/v0/devices/:id</p>
</blockquote>
<pre><code class="highlight plaintext">$ curl -G https://new-api.smartcitizen.me/v0/devices/3
</code></pre>

<p>Returns a single device. Example of a complete response - <a href="http://new-api.smartcitizen.me/devices/1616">http://new-api.smartcitizen.me/v0/devices/1616</a></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>id</strong><br/><em>integer</em></td>
<td>2</td>
<td>Unique ID of the device</td>
</tr>
<tr>
<td><strong>owner</strong><br/><em>object</em></td>
<td><a href="#get-a-user">user</a></td>
<td>The user that owns the device</td>
</tr>
<tr>
<td><strong>name</strong><br/><em>string</em></td>
<td>Beach SCK</td>
<td>Name of the device</td>
</tr>
<tr>
<td><strong>description</strong><br/><em>string</em></td>
<td>A Smart Citizen on the Beach</td>
<td>Description of the device</td>
</tr>
<tr>
<td><strong>status</strong><br/><em>string</em></td>
<td>new</td>
<td><code class="prettyprint">new</code> if never updated,<br/><code class="prettyprint">online</code> if updated less than 10 minutes ago,<br/> <code class="prettyprint">offline</code> if updated more than 10 minutes ago</td>
</tr>
<tr>
<td><strong>added_at</strong><br/><em>datetime</em></td>
<td>2015-02-02T15:59:48.109Z</td>
<td>When the device was added to the platform</td>
</tr>
<tr>
<td><strong>last_reading_at</strong><br/><em>datetime</em></td>
<td>2015-02-02T15:59:48.109Z</td>
<td>When the device last posted a reading to the platform</td>
</tr>
<tr>
<td><strong>updated_at</strong><br/><em>datetime</em></td>
<td>2015-02-02T15:59:48.109Z</td>
<td>When the device was last updated</td>
</tr>
<tr>
<td><strong>data</strong><br/><em>object</em></td>
<td><a href="#data-object">data-object</a></td>
<td>The latest data for the device <em>(see table below)</em></td>
</tr>
<tr>
<td><strong>kit</strong><br/><em>object</em></td>
<td><a href="#kits">kit</a></td>
<td>Information about the kit that the device is</td>
</tr>
<tr>
<td><strong>mac_address</strong><br/><em>string</em></td>
<td>00:1C:B3:09:85:15</td>
<td>Shown if current_user is authenticated and is owner of the device. MAC Address of the device</td>
</tr>
</tbody></table>

<h4 id="data-object">Data Object</h4>

<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>recorded_at</strong><br/><em>datetime</em></td>
<td>2015-02-11T10:03:36.653Z</td>
<td>When the device&rsquo;s data was recorded</td>
</tr>
<tr>
<td><strong>added_at</strong><br/><em>datetime</em></td>
<td>2015-02-11T10:03:36.653Z</td>
<td>When the device&rsquo;s data was posted to the platform</td>
</tr>
<tr>
<td><strong>calibrated_at</strong><br/><em>datetime</em></td>
<td>2015-02-11T10:03:36.653Z</td>
<td>When the device&rsquo;s data was calibrated by the platform</td>
</tr>
<tr>
<td><strong>firmware</strong><br/><em>string</em></td>
<td><em>[IGNORE]</em></td>
<td>Ignore for now</td>
</tr>
<tr>
<td><strong>location</strong><br/><em>object</em></td>
<td>{ ip: null,<br/> exposure: &ldquo;outdoor&rdquo;,<br/> elevation: 102,<br/> latitude: 39.1529768625514,<br/> longitude: -77.2663983320978,<br/> geohash: &ldquo;dqcn9z86d7&rdquo;,<br/> city: &ldquo;Germantown&rdquo;,<br/> country_code: &ldquo;US&rdquo;,<br/> country: &ldquo;United States&rdquo; }</td>
<td>An object describing where the device was when it sent its data. <br/><code class="prettyprint">elevation</code> is measured in meters. <br/><code class="prettyprint">country_code</code> is a standard alpha-2 code, <code class="prettyprint">country</code> is automatically assigned from <code class="prettyprint">country_code</code>. <br/>`geohash <a href="http://www.bigfastblog.com/geohash-intro">explanation</a>.</td>
</tr>
<tr>
<td><strong>sensors</strong><br/><em>array</em></td>
<td>[<a href="#sensors">sensor</a>, <a href="#sensors">sensor</a>]</td>
<td>An array of sensor objects, with the <code class="prettyprint">value</code> (final calibrated reading) and <code class="prettyprint">raw_value</code> (uncalibrated reading) injected into them.</td>
</tr>
</tbody></table>

<h2 id="get-all-devices">Get All Devices</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p>GET https://new-api.smartcitizen.me/v0/devices</p>
</blockquote>
<pre><code class="highlight plaintext">$ curl -G https://new-api.smartcitizen.me/v0/devices
</code></pre>

<p>Returns all devices, with the same data as <a href="#get-a-device">above</a>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>near</strong><br/><em>string<br/>(lat,lng)</em></td>
<td>41.401108,<br/>2.215319</td>
<td>When included, returns devices in order of distance from the coordinates</td>
</tr>
</tbody></table>

<h2 id="remove-a-device">Remove a Device</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p><code class="prettyprint">DELETE https://new-api.smartcitizen.me/v0/devices/102</code></p>
</blockquote>

<p>You can only delete devices that you own.</p>

<h1 id="sensors">Sensors</h1>

<blockquote>
<h3 id="definition">Definition</h3>

<p><code class="prettyprint">GET https://new-api.smartcitizen.me/v0/sensors</code></p>
</blockquote>

<p>Every <a href="#devices">device</a> has <code class="prettyprint">sensor(s)</code>. A <code class="prettyprint">sensor</code> is something on a <code class="prettyprint">device</code> that can record data. This could be anything, some examples are - temperature, humidity, battery percentage, # wifi networks.</p>

<aside class='notice'>Every device belongs to a kit. And every kit has many sensors. So every device has one kit, which has many sensors.</aside>

<h1 id="readings">Readings</h1>

<p>Every <a href="#devices">device</a> has readings. A reading is a value recorded by one of its <a href="#sensors">sensors</a>.</p>

<h1 id="kits">Kits</h1>

<blockquote>
<h3 id="definition">Definition</h3>

<p><code class="prettyprint">GET https://new-api.smartcitizen.me/v0/kits</code></p>
</blockquote>

<aside class='notice'>There are currently 2 variations of kit, the SCK 1.0 and SCK 1.1.</aside>

<p>At the moment, every <a href="#devices">device</a> has one <a href="#kits">kit</a>. In the future this will change, as some devices might not be associated with a <a href="#kits">kit</a>. However, this is not a concern right now.</p>

<p>More information about the current kits can be found on <a href="https://github.com/fablabbcn/Smart-Citizen-Kit/blob/master/hardware/README.md">github</a></p>

<h1 id="users">Users</h1>

<h2 id="get-current-user">Get Current User</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p><code class="prettyprint">GET https://new-api.smartcitizen.me/v0/me</code></p>

<h3 id="example-request">Example Request</h3>
</blockquote>
<pre><code class="highlight shell"><span class="gp">$ </span>curl -G https://new-api.smartcitizen.me/v0/me <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer 94abeabdec09f6670863766f792ead24d61fe3f9"</span>
</code></pre>

<p>Used to retrieve information about the currently authenticated user.
Returns a detailed representation of the user.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>first_name</strong><br/><em>string</em></td>
<td></td>
<td>First name of the user</td>
</tr>
<tr>
<td><strong>last_name</strong><br/><em>string</em></td>
<td></td>
<td>Last name of the user</td>
</tr>
<tr>
<td><strong>email</strong><br/><em>string</em></td>
<td>✓</td>
<td>Email address of the user</td>
</tr>
<tr>
<td><strong>username</strong><br/><em>string</em></td>
<td>✓</td>
<td>Username of the user</td>
</tr>
<tr>
<td><strong>password</strong><br/><em>string</em></td>
<td>✓</td>
<td>Password of the user</td>
</tr>
<tr>
<td><strong>city</strong><br/><em>string</em></td>
<td></td>
<td>City where the user is located</td>
</tr>
<tr>
<td><strong>country_code</strong><br/><em>string</em></td>
<td></td>
<td><a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">2 letter</a> country-code of the user</td>
</tr>
<tr>
<td><strong>country</strong><br/><em>string</em></td>
<td></td>
<td>Automatically generated from country_code</td>
</tr>
<tr>
<td><strong>url</strong><br/><em>string</em></td>
<td></td>
<td>Webpage of the user</td>
</tr>
<tr>
<td><strong>avatar</strong><br/><em>string</em></td>
<td></td>
<td>URL to the avatar of the user</td>
</tr>
</tbody></table>

<h2 id="update-current-user">Update Current User</h2>

<blockquote>
<h3 id="definition">Definition</h3>

<p><code class="prettyprint">GET https://new-api.smartcitizen.me/v0/me</code></p>

<h3 id="example-request">Example Request</h3>
</blockquote>
<pre><code class="highlight shell"><span class="gp">$ </span>curl -G https://new-api.smartcitizen.me/v0/me <span class="se">\</span>
    -H <span class="s2">"Authorization: Bearer 94abeabdec09f6670863766f792ead24d61fe3f9"</span>
</code></pre>

<p>This request is used to retrieve information about the currently authenticated user.
Returns a detailed representation of the user.</p>

<h3 id="optional-parameters">Optional Parameters</h3>

<h2 id="get-all-users">Get All Users</h2>

<blockquote>
<h3 id=" definition"> Definition</h3>

<p>GET https://new-api.smartcitizen.me/v0/users</p>
</blockquote>
<pre><code class="highlight shell">curl <span class="s2">"https://new-api.smartcitizen.me/v0/users"</span>
  -H <span class="s2">"Authorization: Bearer 94abeabdec09f6670863766f792ead24d61fe3f9"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fluffums"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"calico"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isis"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all users.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://new-api.smartcitizen.me/v0/users</code></p>

<h3 id="optional-parameters">Optional Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>1</td>
<td>If set to true, the result will also include cats.</td>
</tr>
<tr>
<td>per_page</td>
<td>25</td>
<td>If set to false, the result will include users that have already been adopted.</td>
</tr>
</tbody></table>

<h2 id="get-a-user">Get a User</h2>
<pre><code class="highlight shell">curl <span class="s2">"https://new-api.smartcitizen.me/v0/users/3"</span>
  -H <span class="s2">"Authorization: Bearer 94abeabdec09f6670863766f792ead24d61fe3f9"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isis"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"breed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unknown"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fluffiness"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cuteness"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves a specific user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://new-api.smartcitizen.me/v0/users/&lt;ID|username&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID or username</td>
<td>The ID or username of the user to retrieve</td>
</tr>
</tbody></table>

          <h1 id="response-status-codes">Response Status Codes</h1>

<p>The Smartcitizen API uses the following status codes:</p>

<h2 id="success-codes">Success Codes</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Request succeeded for a GET call, for a DELETE or PATCH call that completed synchronously, or for a PATCH call that synchronously updated an existing resource</td>
</tr>
<tr>
<td>201</td>
<td>Request succeeded for a POST call that completed synchronously, or for a PATCH call that synchronously created a new resource</td>
</tr>
</tbody></table>

<h2 id="error-codes">Error Codes</h2>

<table><thead>
<tr>
<th>Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; there is a problem with your request</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your <a href="#authentication">authentication credentials</a> are wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The resource requested is hidden, or for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified resource could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a resource with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity: Your request was understood, but contained invalid parameters</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
